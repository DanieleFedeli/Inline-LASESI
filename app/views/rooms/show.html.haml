-provide(:title, @room.name)
%br
.container{:style => 'padding-left: 0px; padding-right: 0px;'}
  .page-header.media
    .media-body
      %h3.text-center.my-3
        =@room.name
      %p.text-center
        =@room.description
      
  .row
    .col-3.border-right
      %h4.text-center.my-auto.border-bottom
        Info
      -if @room.address.nil?
        .row#map.mx-auto{:style=>'width: 100%; height: 200px; margin: 5%;'}
        %label
          Address:
        =@room.address
      
      
      %label.mx-auto
        Da:
      %input.text-center#dateEvent_from{:type => 'text'}
      %br
      %label.mx-auto
        A:
      %input.text-center#dateEvent_to{:type => 'text'}
      
      %h4.text-center.my-3
        Room host:
        
      %table.table
        %tbody
        -@room.powers.each do |p|
          %tr
            %td.text-center=link_to p.user.username, user_path(p.user) 
    .col-6
      %h4.text-center.my-auto.border-bottom
        CODA
        %table.table
          %tbody
    .col-3.border-left
      %h4.text-center.my-auto.border-bottom
        CHAT
      
        
:javascript
  $(document).ready(function(){
    var room_json = init(document.URL+'.json');
    if($('#map').length) {
      render_map_for_room_show(document.URL+'.json');
    }
    
    var dateFrom = $("#dateEvent_from").flatpickr({ 
      enableTime: true,
      altInput: true,
      altFromat: "F j, Y",
      dateFormat: 'Y-m-d H:i',
      minDate: room_json.time_from,
      maxDate: room_json.time_from,
      defaultDate: room_json.time_from,
    });
    
    var dateFrom = $("#dateEvent_to").flatpickr({ 
      enableTime: true,
      altInput: true,
      altFromat: "F j, Y",
      dateFormat: 'Y-m-d H:i',
      minDate: room_json.time_to,
      maxDate: room_json.time_to,
      defaultDate: room_json.time_to
    })  
  });
